const baseConocimiento = {
  "facultad": {
    "descripcion": "La Facultad de Contadur√≠a P√∫blica y Administraci√≥n (FACPYA) de la UANL es una de las m√°s grandes y prestigiosas del pa√≠s, ubicada en Ciudad Universitaria, San Nicol√°s de los Garza, N.L. Forma profesionales en contadur√≠a, administraci√≥n, tecnolog√≠as de la informaci√≥n, negocios y mercadotecnia.",
    "mision": "Formar profesionales altamente capacitados en negocios, administraci√≥n y contadur√≠a, con un enfoque √©tico, innovador y compromiso social.",
    "vision": "Ser reconocida a nivel nacional e internacional como la mejor instituci√≥n en negocios, por su calidad acad√©mica, investigaci√≥n y vinculaci√≥n con la sociedad.",
    "historia": "FACPYA tiene sus or√≠genes en los a√±os 50 y se consolid√≥ oficialmente en 1973. Desde entonces ha formado a miles de profesionales en √°reas administrativas y contables, siendo la facultad con mayor matr√≠cula de la UANL."
  },
  "programas": {
    "contaduria": "La Licenciatura en Contadur√≠a P√∫blica forma expertos en auditor√≠a, contabilidad fiscal, finanzas y control interno.",
    "administracion": "La Licenciatura en Administraci√≥n desarrolla l√≠deres en gesti√≥n de empresas, recursos humanos, mercadotecnia, finanzas y operaciones.",
    "lati": "La Licenciatura en Tecnolog√≠as de Informaci√≥n (LTI) mezcla administraci√≥n y tecnolog√≠a: sistemas ERP, bases de datos, redes y digitalizaci√≥n de procesos.",
    "negocios": "La Licenciatura en Negocios Internacionales (LNI) prepara especialistas en comercio exterior, aduanas, log√≠stica internacional y tratados de libre comercio.",
    "posgrados": "Ofrece maestr√≠as en Administraci√≥n, Finanzas, Auditor√≠a y Comercio Internacional, adem√°s de Doctorados en Filosof√≠a con especialidad en Administraci√≥n y en Contadur√≠a.",
    "mercadotecnia": "La Licenciatura en Mercadotecnia prepara profesionistas creativos en publicidad, branding, investigaci√≥n de mercados y ventas."
  },
  "servicios": {
    "centroEmpresarial": "El Centro de Desarrollo Empresarial fortalece el talento emprendedor con asesor√≠as, mentor√≠as y programas de incubaci√≥n.",
    "certificaciones": "FACPYA ofrece certificaciones profesionales en contabilidad, administraci√≥n, finanzas, TI y gesti√≥n empresarial.",
    "servicioSocial": "La Coordinaci√≥n de Servicio Social organiza y valida proyectos con impacto comunitario para cumplir este requisito acad√©mico.",
    "tic": "La Secretar√≠a de TIC brinda soporte t√©cnico, pr√©stamo de equipos, licencias de software y talleres de herramientas digitales.",
    "practicas": "La Coordinaci√≥n de Pr√°cticas Profesionales gestiona convenios con empresas, validaci√≥n de horas y seguimiento de alumnos.",
    "coworking": "El FACPYA Coworking es un espacio innovador para proyectos, networking y trabajo colaborativo.",
    "promipyme": "El Hospital PROMIPYME ofrece consultor√≠a en administraci√≥n, finanzas y procesos para micro, peque√±as y medianas empresas.",
    "incubadora": "La Incubadora de Negocios y Programa Emprendedores ayuda a convertir ideas en empresas s√≥lidas con asesor√≠a y mentor√≠as.",
    "libreria": "La Librer√≠a de FACPYA ofrece libros especializados en contadur√≠a, administraci√≥n, finanzas y materiales de apoyo acad√©mico."
  },
  "arteCultura": {
    "descripcion": "Arte y Cultura en FACPYA te permite aprender disciplinas art√≠sticas, desarrollar talentos y conocer nuevas personas.",
    "rondalla": "Taller de m√∫sica rom√°ntica y tradicional. Horario: Lunes, martes y mi√©rcoles de 11:30 a 13:30 hrs.",
    "jazz": "Taller de danza Jazz 'Emociones Kinesikas'. Horario: Lunes a viernes de 11:30 a 13:30 hrs.",
    "tuna": "Hermandad musical tradicional. Horario: Mar y Jue 11:45 a 13:45 hrs / Mi√©r 18:00 a 20:00 hrs.",
    "folklor": "Ballet Folkl√≥rico 'Ra√≠ces Mexicanas'. Horario: Lun y Mi√©r 17:30 a 21:00 hrs / Vie 18:00 a 21:00 hrs.",
    "teatro": "Grupo de Teatro 'La Cuarta Pared'. Horario: Lunes a viernes de 11:30 a 13:30 hrs.",
    "norteno": "Grupo Norte√±o, m√∫sica regional. Horario: Jue y Vie de 11:30 a 13:30 hrs.",
    "violin": "Taller de viol√≠n. Horario: Lunes a viernes de 11:30 a 13:30 hrs.",
    "fotografia": "Taller de Fotograf√≠a. Horario: (Por confirmar).",
    "expresion": "Taller de Expresi√≥n Oral. Horario: Lunes a viernes de 11:30 a 13:30 hrs.",
    "lectura": "Taller de Lectura y Escritura Creativa. Horario: Lunes a viernes de 11:30 a 13:30 hrs."
  },
  "instalaciones": {
    "edificio": "El edificio principal cuenta con 3 pisos, aulas modernas, auditorios, √°reas de estudio, el famoso lobby y el mural institucional.",
    "biblioteca": "La Biblioteca de FACPYA es una de las m√°s completas en negocios de la UANL.",
    "laboratorios": "Laboratorios de c√≥mputo, finanzas y simuladores de negocios, adem√°s de espacios especializados para LATI.",
    "deportes": "Equipos representativos de f√∫tbol, b√°squetbol, voleibol y tochito, adem√°s de actividades recreativas.",
    "cafeterias": "Varias cafeter√≠as y comedor estudiantil, puntos de reuni√≥n cl√°sicos."
  },
  "vidaEstudiantil": {
    "eventos": "Eventos como la Semana del Contador, Semana del Administrador, congresos internacionales y FACPYA Fest.",
    "sociedades": "La Sociedad de Alumnos (SAFACPYA) organiza actividades y torneos. Tambi√©n existen clubes y AIESEC.",
    "bolsaTrabajo": "Bolsa de trabajo activa con convenios con Deloitte, KPMG, PwC, EY, FEMSA, Heineken y CEMEX."
  },
  "curiosidades": {
    "estudiantes": "Es la facultad con mayor matr√≠cula de la UANL, con m√°s de 2,000,000 alumnos.",
    "lobby": "El lobby es tan famoso que se volvi√≥ punto de encuentro y hasta tiene memes propios.",
    "estereotipos": "Contadur√≠a: calculadora en mano. Administraci√≥n: futuros jefes. Negocios: todos quieren aduanas. LATI: los formales con sistemas. Mercadotecnia: los creativos."
  },
  "deportes": {
    "ajedrez": "üèÜ AJEDREZ FEMENIL Y VARONIL\nEntrenador: Victor Aguilar Monsivais\nLugar: Gimnasio FACPYA\nD√≠as: Lunes a Mi√©rcoles\nHorario: 11:30 a 13:30",
    "atletismo": "üèÉ ATLETISMO FEMENIL Y VARONIL\nEntrenador: Edwin Trevi√±o Garc√≠a\nLugar: Estadio Chico Rivera\nD√≠as: Lunes a Viernes\nHorario: 18:30 a 20:30",
    "basquetbol femenil": "üèÄ B√ÅSQUETBOL FEMENIL\nEntrenador: Javier Armenta Uribe\nLugar: Gimnasio FACPYA\nD√≠as: Lunes, Martes y Jueves\nHorario: 16:00 a 18:00",
    "basquetbol varonil": "üèÄ B√ÅSQUETBOL VARONIL\nEntrenadores: Federico S√°nchez Dom√≠nguez (18:00 a 19:30) / Israel Hern√°ndez D√≠az (15:00 a 17:00)\nLugar: Gimnasio FACPYA\nD√≠as: Lunes, Martes, Jueves y Viernes",
    "beisbol": "‚öæ B√âISBOL / SOFTBOL\nEntrenador: Edwin Melchor Barbosa\nLugar: Campo Hundido UANL\nD√≠as: Martes, Mi√©rcoles y Jueves\nHorario: 11:30 a 13:30",
    "boliche": "üé≥ BOLICHE FEMENIL Y VARONIL\nEntrenadora: Ana Laura Davila Barrera\nLugar: Bol Obispado\nD√≠as: Martes y Jueves\nHorario: 16:00 a 18:00",
    "box": "ü•ä BOX FEMENIL Y VARONIL\nEntrenador: Francisco Zamora de la Rosa\nLugar: Gimnasio FACPYA\nD√≠as: Lunes a Viernes\nHorario: 12:00 a 16:00",
    "ciclismo": "üö¥ CICLISMO FEMENIL\nEntrenador: Jos√© Luis Arriaga Regalado\nLugar: Circuito UANL\nD√≠as: Martes, Mi√©rcoles y Jueves\nHorario: 11:30 a 13:00",
    "fronton": "üèì FRONT√ìN FEMENIL Y VARONIL\nEntrenadora: Ana Laura Davila Barrera\nLugar: Gimnasio FACPYA\nD√≠as: Lunes\nHorario: 13:00 a 15:30",
    "futbol americano": "üèà F√öTBOL AMERICANO\nEntrenadores: Jes√∫s Vela Garc√≠a / Roberto Isa√≠as Vega Arroyo / Miguel √Ångel Alvarado Oviedo / Christian Hern√°ndez Delgado\nLugar: Campo de Futbol FACPYA y Gimnasio / Plataforma Zoom\nD√≠as: Lunes a Viernes\nHorario: 9:00 a 15:00 y 11:30 a 13:30",
    "futbol rapido": "‚öΩ F√öTBOL R√ÅPIDO FEMENIL Y VARONIL\nEntrenador: Jos√© Valerio Costilla G√≥mez\nLugar: Campo de Futbol FACPYA\nD√≠as: Martes, Mi√©rcoles y Jueves\nHorario: 11:30 a 13:30",
    "futbol soccer femenil": "‚öΩ F√öTBOL SOCCER FEMENIL MAYOR\nEntrenador: Juan Carlos Sosa S√°nchez\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Martes y Jueves\nHorario: 12:00 a 14:00",
    "futbol soccer femenil 2da": "‚öΩ F√öTBOL SOCCER FEMENIL MAYOR Y 2DA\nEntrenador: Carlos Gzz Sari√±ana\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Mi√©rcoles y Jueves\nHorario: 18:30 a 20:30",
    "futbol soccer varonil mayor": "‚öΩ F√öTBOL SOCCER VARONIL MAYOR Y 1RA\nEntrenador: C√©sar Nicol√°s Ruiz Mata\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Martes y Jueves\nHorario: 18:00 a 20:00",
    "futbol soccer varonil 1ra": "‚öΩ F√öTBOL SOCCER VARONIL 1RA\nEntrenador: Carlos Gzz Sari√±ana\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Mi√©rcoles y Jueves\nHorario: 18:00 a 20:00",
    "futbol soccer varonil 1ra y 2da": "‚öΩ F√öTBOL SOCCER VARONIL 1RA Y 2DA\nEntrenador: C√©sar Pantoja Reyes\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Martes y Jueves\nHorario: 18:00 a 20:00",
    "futbol soccer varonil 2da y 3ra": "‚öΩ F√öTBOL SOCCER VARONIL 2DA Y 3RA\nEntrenador: Alejandro Cant√∫ Encinia\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Martes y Jueves\nHorario: 11:30 a 13:30",
    "futbol soccer varonil 2da": "‚öΩ F√öTBOL SOCCER VARONIL 2DA\nEntrenadora: Marcela Acevedo Mej√≠a\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes y Viernes\nHorario: 17:30 a 20:30",
    "futbol soccer varonil novatos": "‚öΩ F√öTBOL SOCCER VARONIL 2DA Y NOVATOS\nEntrenador: Luis Cervantes Luna\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes a Jueves\nHorario: 7:00 a 8:30",
    "animacion": "üì£ GRUPO DE ANIMACI√ìN FEMENIL MIXTO\nEntrenadora: Brenda Mata Garza\nLugar: Gimnasio FACPYA\nD√≠as: Lunes y Mi√©rcoles\nHorario: 18:30 a 20:30",
    "halterofilia": "üèãÔ∏è HALTEROFILIA VARONIL Y FEMENIL\nEntrenador: √Ångel Adahir Rodr√≠guez\nLugar: Gimnasio FACPYA\nD√≠as: Lunes a Viernes\nHorario: 10:00 a 14:00",
    "handball varonil": "ü§æ‚Äç‚ôÇÔ∏è HANDBALL VARONIL\nEntrenador: Juan Gonzalo L√≥pez Cortes\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes y Mi√©rcoles\nHorario: 11:00 a 14:00",
    "handball femenil": "ü§æ‚Äç‚ôÄÔ∏è HANDBALL FEMENIL\nEntrenador: Brian V√°zquez Guzm√°n\nLugar: Campo de Futbol FACPYA\nD√≠as: Martes y Jueves\nHorario: 11:00 a 14:00",
    "judo": "ü•ã JUDO FEMENIL Y VARONIL\nEntrenador: Jes√∫s Eduardo Rodr√≠guez Escobedo\nLugar: Gimnasio FACPYA\nD√≠as: Lunes, Mi√©rcoles y Viernes\nHorario: 11:30 a 13:00",
    "karate do": "ü•ã KARATE DO FEMENIL Y VARONIL\nEntrenador: Jes√∫s Roberto Rodr√≠guez Tamez\nLugar: Gimnasio FACPYA\nD√≠as: Martes, Jueves y Domingo\nHorario: 16:30 a 17:30",
    "lima lama": "ü•ã LIMA LAMA FEMENIL Y VARONIL\nEntrenadores: Daniel Carre√±o Vidales (17:00 a 19:00) / Mariana Salas P√©rez (18:00 a 21:00)\nLugar: Gimnasio FACPYA\nD√≠as: Lunes a Viernes",
    "lucha olimpica": "ü§º‚Äç‚ôÇÔ∏è LUCHA OL√çMPICA Y GRECORROMANA\nEntrenadores: Fco. Javier Villanueva Sol√≠s / Sonia Betacourt Cavazos / Samuel Yannick Tonye Ebode\nLugar: Gimnasio FACPYA\nD√≠as: Lunes, Mi√©rcoles y Viernes\nHorario: 11:00 a 14:00",
    "natacion": "üèä NATACI√ìN FEMENIL Y VARONIL\nEntrenador: Arturo N√°jera Balleza\nLugar: Centro Acu√°tico UANL\nD√≠as: Lunes a Viernes\nHorario: 6:00 a 7:30",
    "raquetbol": "üéæ RAQUETBOL FEMENIL Y VARONIL\nEntrenadora: Ana Laura Davila B\nLugar: Gimnasio FACPYA\nD√≠as: Lunes\nHorario: 13:00 a 15:30",
    "rugby femenil": "üèâ RUGBY FEMENIL\nEntrenadora: Alexandra Gonz√°lez Castillo\nLugar: Campo de Futbol FACPYA\nD√≠as: Mi√©rcoles y Jueves\nHorario: 14:30 a 19:30",
    "rugby varonil": "üèâ RUGBY VARONIL\nEntrenadora: Elsia Vianelly Ch√°vez Rodr√≠guez\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes, Martes y Jueves\nHorario: 16:00 a 19:00",
    "softbol a": "ü•é SOFTBOL A FEMENIL\nEntrenadora: Hesilda Yanina Zapata Murgas\nLugar: Campo de Futbol FACPYA\nD√≠as: Martes y Jueves\nHorario: 11:30 a 13:30",
    "softbol b y c": "ü•é SOFTBOL B y C FEMENIL\nEntrenadora: Ana Karen Lozano Carre√≥n\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes y Mi√©rcoles\nHorario: 11:30 a 13:30",
    "tae kwon do": "ü•ã TAE KWON DO\nEntrenadores: Javier Enrique Carrillo Mtz (Lun, Mi√©r, Vie 11:00 a 13:00) / Luis Gerardo Ram√≠rez Cerda (Mar, Jue, S√°b 18:20 a 20:00 y 10:00 a 12:00)\nLugar: Gimnasio FACPYA",
    "tenis": "üéæ TENIS FEMENIL Y VARONIL\nEntrenador: Edgar L√≥pez Villarreal\nLugar: Canchas de Tenis UANL\nD√≠as: Martes a Jueves\nHorario: 11:30 a 13:30",
    "tenis de mesa": "üèì TENIS DE MESA FEMENIL Y VARONIL\nEntrenador: Fernando Basaldua\nLugar: Gimnasio FACPYA\nD√≠as: Lunes, Mi√©rcoles y Viernes\nHorario: 11:30 a 13:30",
    "tochito": "üèà TOCHITO\nEntrenadores: Alberto T√©llez Garza / Erik Omar Hern√°ndez Elizondo / Jorge Alberto Barrera Trevi√±o\nLugar: Campo de Futbol FACPYA\nD√≠as: Lunes a Jueves\nHorario: 11:30 a 13:30",
    "voleibol de playa": "üèê VOLEIBOL DE PLAYA FEMENIL Y VARONIL\nEntrenador: Edgar Herrera Currugedo\nLugar: Gimnasio FACPYA\nD√≠as: Lunes a Jueves\nHorario: 18:30 a 20:30",
    "voleibol de sala femenil": "üèê VOLEIBOL DE SALA FEMENIL\nEntrenador: Vacante\nLugar: Gimnasio FACPYA\nD√≠as: Lunes y Mi√©rcoles\nHorario: 11:30 a 13:30",
    "voleibol de sala varonil": "üèê VOLEIBOL DE SALA VARONIL\nEntrenador: C√©sar Arellano Serna\nLugar: Gimnasio FACPYA\nD√≠as: Martes, Jueves y S√°bados\nHorario: 11:30 a 14:30",
    "wushu": "‚öîÔ∏è WUSHU FEMENIL Y VARONIL\nEntrenador: Jes√∫s Carranza\nLugar: Gimnasio FACPYA\nD√≠as: Martes y Jueves\nHorario: 10:00 a 13:00"
}

};

// === Motor de respuestas ===
function responder(pregunta) {
  const q = pregunta.toLowerCase();
  let respuesta = "";
  
  // Mostrar imagen si se detecta "exci"
  if (q.includes("exci")) {
    return `<img src="exci.jpg" alt="Pr√≥ximas fechas" style="max-width:100%; border-radius:10px;">`;
  }

  // Saludos b√°sicos
  if (q.includes("hola") || q.includes("buenas")) return "¬°Hola! üòÑ ¬øC√≥mo est√°s?";
  if (q.includes("como estas") || q.includes("c√≥mo est√°s")) return "Estoy muy bien, gracias por preguntar üôå ¬øy t√∫?";
  if (q.includes("gracias")) return "¬°De nada! ü§ó";
  if (q.includes("adios") || q.includes("bye")) return "¬°Hasta luego! üëã";

  // Familias de palabras clave
  const contaduriaKeys = ["contaduria","contadur√≠a","contador","contadores","contabilidad","contable","conta"];
  const adminKeys = ["administracion","administraci√≥n","administrador","administradores","gestion"];
  const latiKeys = ["lati","tecnologia","tecnolog√≠as","informacion","inform√°tica","sistemas","ti"];
  const negociosKeys = ["negocios","internacional","comercio","aduanas","logistica"];
  const mercaKeys = ["mercadotecnia","marketing","publicidad","branding","ventas"];
  const posgradoKeys = ["posgrado","posgrados","maestria","maestr√≠as","doctorado","doctorados","especialidad","especialidades"];

  const centroKeys = ["emprendedor","emprendimiento","centro empresarial","desarrollo empresarial"];
  const certificacionKeys = ["certificacion","certificaciones","certificado"];
  const servicioSocialKeys = ["servicio social","servicio"];
  const ticKeys = ["tic","tecnologias","informacion","comunicacion","soporte"];
  const practicasKeys = ["practica","pr√°cticas","profesional","profesionales"];
  const coworkingKeys = ["coworking"];
  const promipymeKeys = ["promipyme","pyme","hospital empresarial"];
  const incubadoraKeys = ["incubadora","emprendedores"];
  const libreriaKeys = ["libreria","libros"];

  const arteKeys = ["arte","cultura","taller","teatro","m√∫sica","baile","danza","fotografia","rondalla","jazz","tuna","folklor","norte√±o","viol√≠n","expresion","lectura"];
  const deportesKeys = {
  "ajedrez": ["ajedrez", "chess"],
  "atletismo": ["atletismo", "atletica", "correr", "track", "field"],
  "basquetbol femenil": ["basquetbol femenil", "basket femenil", "b√°squet femenil"],
  "basquetbol varonil": ["basquetbol varonil", "basket varonil", "b√°squet varonil"],
  "beisbol": ["beisbol", "b√©isbol", "baseball", "softbol", "softball"],
  "boliche": ["boliche", "bowling"],
  "box": ["box", "boxeo", "boxing"],
  "ciclismo": ["ciclismo", "bicicleta", "bike", "cycling"],
  "fronton": ["fronton", "front√≥n", "fronten"],
  "futbol": ["futbol", "soccer", "fut"],
  "futbol americano": ["futbol americano", "americano", "football"],
  "voleibol": ["voleibol", "voley", "beach volley"],
  "animacion": ["animacion", "porra", "animadoras", "cheer", "cheerleading"],
  "halterofilia": ["halterofilia", "pesas", "weightlifting"],
  "handball varonil": ["handball varonil", "balonmano varonil"],
  "handball femenil": ["handball femenil", "balonmano femenil"],
  "judo": ["judo"],
  "karate do": ["karate", "karate do"],
  "lima lama": ["lima lama"],
  "lucha olimpica": ["lucha olimpica", "lucha grecorromana", "lucha libre olimpica"],
  "natacion": ["natacion", "nataci√≥n", "swim", "swimming"],
  "raquetbol": ["raquetbol", "racquetball"],
  "rugby femenil": ["rugby femenil"],
  "rugby varonil": ["rugby varonil"],
  "softbol a": ["softbol a", "softball a"],
  "softbol b y c": ["softbol b y c", "softball b y c"],
  "tae kwon do": ["taekwondo", "tae kwon do", "tkd"],
  "tenis": ["tenis", "tennis"],
  "tenis de mesa": ["tenis de mesa", "ping pong", "table tennis"],
  "tochito": ["tochito", "flag", "flag football"],
  "wushu": ["wushu", "kung fu"]
};

// üîπ Variante de deportes especiales
const variantesFut = [
  "futbol soccer femenil",
  "futbol soccer femenil 2da",
  "futbol soccer varonil mayor",
  "futbol soccer varonil 1ra",
  "futbol soccer varonil 1ra y 2da",
  "futbol soccer varonil 2da y 3ra",
  "futbol soccer varonil 2da",
  "futbol soccer varonil novatos"
];

const variantesVoleibol = [
  "voleibol de playa",
  "voleibol de sala femenil",
  "voleibol de sala varonil"
];





  // Buscador gen√©rico
  function match(keys) {
    return keys.some(word => q.includes(word));
  }
  // Deportes
  const respuestaDeporte = buscarDeportes(q);
  if (respuestaDeporte) return respuestaDeporte;

  // Programas
  if (match(contaduriaKeys)) return baseConocimiento.programas.contaduria;
  if (match(adminKeys)) return baseConocimiento.programas.administracion;
  if (match(latiKeys)) return baseConocimiento.programas.lati;
  if (match(negociosKeys)) return baseConocimiento.programas.negocios;
  if (match(mercaKeys)) return baseConocimiento.programas.mercadotecnia;
  if (match(posgradoKeys)) return baseConocimiento.programas.posgrados;

  // Servicios
  if (match(centroKeys)) return baseConocimiento.servicios.centroEmpresarial;
  if (match(certificacionKeys)) return baseConocimiento.servicios.certificaciones;
  if (match(servicioSocialKeys)) return baseConocimiento.servicios.servicioSocial;
  if (match(ticKeys)) return baseConocimiento.servicios.tic;
  if (match(practicasKeys)) return baseConocimiento.servicios.practicas;
  if (match(coworkingKeys)) return baseConocimiento.servicios.coworking;
  if (match(promipymeKeys)) return baseConocimiento.servicios.promipyme;
  if (match(incubadoraKeys)) return baseConocimiento.servicios.incubadora;
  if (match(libreriaKeys)) return baseConocimiento.servicios.libreria;

  // Arte y Cultura
  if (match(arteKeys)) return baseConocimiento.arteCultura.descripcion;
  if (q.includes("rondalla")) return baseConocimiento.arteCultura.rondalla;
  if (q.includes("jazz")) return baseConocimiento.arteCultura.jazz;
  if (q.includes("tuna")) return baseConocimiento.arteCultura.tuna;
  if (q.includes("folklor")) return baseConocimiento.arteCultura.folklor;
  if (q.includes("teatro")) return baseConocimiento.arteCultura.teatro;
  if (q.includes("norte√±o")) return baseConocimiento.arteCultura.norteno;
  if (q.includes("viol√≠n") || q.includes("violin")) return baseConocimiento.arteCultura.violin;
  if (q.includes("fotografia") || q.includes("fotograf√≠a")) return baseConocimiento.arteCultura.fotografia;
  if (q.includes("expresion")) return baseConocimiento.arteCultura.expresion;
  if (q.includes("lectura")) return baseConocimiento.arteCultura.lectura;

function buscarDeportes(q) {
  // Variantes de f√∫tbol y voleibol
  const variantesFut = [
    "futbol soccer femenil",
    "futbol soccer femenil 2da",
    "futbol soccer varonil mayor",
    "futbol soccer varonil 1ra",
    "futbol soccer varonil 1ra y 2da",
    "futbol soccer varonil 2da y 3ra",
    "futbol soccer varonil 2da",
    "futbol soccer varonil novatos"
  ];

  const variantesVoleibol = [
    "voleibol de playa",
    "voleibol de sala femenil",
    "voleibol de sala varonil"
  ];

  // Primero buscamos si hay alguna variante espec√≠fica mencionada
  const varianteExacta = Object.keys(baseConocimiento.deportes).find(v => q.includes(v.toLowerCase()));
  if (varianteExacta) return baseConocimiento.deportes[varianteExacta];

  // Luego revisamos palabras clave
  for (const [deporte, alias] of Object.entries(deportesKeys)) {
    if (alias.some(word => q.includes(word))) {
      if (deporte === "futbol") {
        return variantesFut.map(v => baseConocimiento.deportes[v]).join("\n\n"); // doble salto de l√≠nea
      }
      if (deporte === "voleibol") {
        return variantesVoleibol.map(v => baseConocimiento.deportes[v]).join("\n\n"); // doble salto de l√≠nea
      }
      return baseConocimiento.deportes[deporte]; // otros deportes
    }
  }

  return null;
}




  // Facultad
  if (q.includes("historia")) return baseConocimiento.facultad.historia;
  if (q.includes("mision")) return baseConocimiento.facultad.mision;
  if (q.includes("vision") || q.includes("visi√≥n")) return baseConocimiento.facultad.vision;
  if (q.includes("facultad") || q.includes("facpya")) return baseConocimiento.facultad.descripcion;

  // Instalaciones
  if (q.includes("edificio")) return baseConocimiento.instalaciones.edificio;
  if (q.includes("biblioteca")) return baseConocimiento.instalaciones.biblioteca;
  if (q.includes("laboratorio")) return baseConocimiento.instalaciones.laboratorios;
  if (q.includes("deporte")) return baseConocimiento.instalaciones.deportes;
  if (q.includes("cafeteria") || q.includes("cafeter√≠a")) return baseConocimiento.instalaciones.cafeterias;

  // Vida estudiantil
  if (q.includes("evento") || q.includes("fest") || q.includes("semana")) return baseConocimiento.vidaEstudiantil.eventos;
  if (q.includes("sociedad") || q.includes("alumno") || q.includes("grupo")) return baseConocimiento.vidaEstudiantil.sociedades;
  if (q.includes("bolsa") || q.includes("trabajo") || q.includes("empleo")) return baseConocimiento.vidaEstudiantil.bolsaTrabajo;

  // Curiosidades
  if (q.includes("curiosidad") || q.includes("dato")) return baseConocimiento.curiosidades.estudiantes;
  if (q.includes("lobby")) return baseConocimiento.curiosidades.lobby;
  if (q.includes("estereotipo")) return baseConocimiento.curiosidades.estereotipos;

  // Default
  if (!respuesta) {
    respuesta = "üòÖ Ups... eso no lo s√©, pero preg√∫ntame sobre FACPYA (carreras, servicios, arte, deportes, instalaciones, etc.) y con gusto te respondo.";
  }

  return respuesta;
}


// === L√≥gica del chat ===
function enviar() {
  const input = document.getElementById("user-input");
  const pregunta = input.value.trim();
  if (pregunta === "") return;

  let respuesta = responder(pregunta);
  if (!respuesta) respuesta = "üòÖ Ups... eso no lo s√©, pero preg√∫ntame sobre FACPYA y con gusto te respondo.";

  const chatBox = document.getElementById("chat-box");
  const respuestaHTML = respuesta.replace(/\n/g, "<br>");

  chatBox.innerHTML += `<p><b>T√∫:</b> ${pregunta}</p>`;
  chatBox.innerHTML += `<p><b>FACPYA-Bot:</b> ${respuestaHTML}</p>`;
  chatBox.scrollTop = chatBox.scrollHeight;

  input.value = "";
}

const respuestaHTML = respuesta.replace(/\n/g, "<br>");
chatBox.innerHTML += `<p><b>T√∫:</b> ${pregunta}</p>`;
chatBox.innerHTML += `<p><b>FACPYA-Bot:</b> ${respuestaHTML}</p>`;





  function mostrar(opcion) {
    document.getElementById('chat').style.display = "none";
    document.getElementById('mapa').style.display = "none";
    document.getElementById(opcion).style.display = "flex"; // flex para centrar el mapa
  }

  function mostrarFoto(foto) {
  document.getElementById('foto-modal').src = foto;
  document.getElementById('modal').style.display = 'flex';
}

function cerrarModal() {
  document.getElementById('modal').style.display = 'none';
}
